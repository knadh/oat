class OtBase extends HTMLElement{#t=!1;connectedCallback(){this.#t||(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>this.#s(),{once:!0}):this.#s())}#s(){this.#t||(this.#t=!0,this.init())}init(){}disconnectedCallback(){this.cleanup()}cleanup(){}handleEvent(t){const e=this[`on${t.type}`];e&&e.call(this,t)}emit(t,e=null){return this.dispatchEvent(new CustomEvent(t,{bubbles:!0,composed:!0,cancelable:!0,detail:e}))}getBool(t){return this.hasAttribute(t)}setBool(t,e){e?this.setAttribute(t,""):this.removeAttribute(t)}$(t){return this.querySelector(t)}$$(t){return Array.from(this.querySelectorAll(t))}uid(){return Math.random().toString(36).slice(2,10)}}typeof window<"u"&&(window.OtBase=OtBase),"commandForElement"in HTMLButtonElement.prototype||document.addEventListener("click",s=>{const t=s.target.closest("[commandfor]");if(!t)return;const e=document.getElementById(t.getAttribute("commandfor"));if(!e)return;const i=t.getAttribute("command")||"toggle";e instanceof HTMLDialogElement&&(i==="show-modal"?e.showModal():i==="close"||e.open?e.close():e.showModal())});class OtTabs extends OtBase{#t=[];#s=[];init(){const t=this.$(':scope > [role="tablist"]');if(this.#t=t?[...t.querySelectorAll('[role="tab"]')]:[],this.#s=this.$$(':scope > [role="tabpanel"]'),this.#t.length===0||this.#s.length===0){console.warn("ot-tabs: Missing tab or tabpanel elements");return}this.#t.forEach((i,n)=>{const a=this.#s[n];if(!a)return;const o=i.id||`ot-tab-${this.uid()}`,r=a.id||`ot-panel-${this.uid()}`;i.id=o,a.id=r,i.setAttribute("aria-controls",r),a.setAttribute("aria-labelledby",o),i.addEventListener("click",this),i.addEventListener("keydown",this)});const e=this.#t.findIndex(i=>i.ariaSelected==="true");this.#e(e>=0?e:0)}onclick(t){const e=this.#t.indexOf(t.target.closest('[role="tab"]'));e>=0&&this.#e(e)}onkeydown(t){const{key:e}=t,i=this.activeIndex;let n=i;switch(e){case"ArrowLeft":t.preventDefault(),n=i-1,n<0&&(n=this.#t.length-1);break;case"ArrowRight":t.preventDefault(),n=(i+1)%this.#t.length;break;default:return}this.#e(n),this.#t[n].focus()}#e(t){this.#t.forEach((e,i)=>{const n=i===t;e.ariaSelected=String(n),e.tabIndex=n?0:-1}),this.#s.forEach((e,i)=>{e.hidden=i!==t}),this.emit("ot-tab-change",{index:t,tab:this.#t[t]})}get activeIndex(){return this.#t.findIndex(t=>t.ariaSelected==="true")}set activeIndex(t){t>=0&&t<this.#t.length&&this.#e(t)}}customElements.define("ot-tabs",OtTabs);class OtDropdown extends OtBase{#t;#s;#e;init(){this.#t=this.$("menu[popover]"),this.#s=this.$("[popovertarget]"),!(!this.#t||!this.#s)&&(this.#t.addEventListener("toggle",this),this.#t.addEventListener("keydown",this),this.#e=()=>{const t=this.#s.getBoundingClientRect();this.#t.style.top=`${t.bottom}px`,this.#t.style.left=`${t.left}px`})}ontoggle(t){t.newState==="open"?(this.#e(),window.addEventListener("scroll",this.#e,!0),this.$('[role="menuitem"]')?.focus(),this.#s.ariaExpanded="true"):(window.removeEventListener("scroll",this.#e,!0),this.#s.ariaExpanded="false",this.#s.focus())}onkeydown(t){if(!t.target.matches('[role="menuitem"]'))return;const e=this.$$('[role="menuitem"]'),i=e.indexOf(t.target);switch(t.key){case"ArrowDown":t.preventDefault(),e[(i+1)%e.length]?.focus();break;case"ArrowUp":t.preventDefault(),e[i-1<0?e.length-1:i-1]?.focus();break}}cleanup(){window.removeEventListener("scroll",this.#e,!0)}}customElements.define("ot-dropdown",OtDropdown);class OtDatepicker extends OtBase{#t;#s;#e;#i;#n;#o;init(){if(this.#t=this.$('input[type="text"]'),this.#s=this.$("[popovertarget]"),this.#e=this.$("[popover].datepicker"),!this.#t||!this.#e||!this.#s)return;this.#i=new Date;const t=this.#t.value||this.#t.dataset.value;if(t){const[e,i,n]=t.split("-").map(Number);e&&i&&n&&(this.#n=new Date(e,i-1,n),this.#i=new Date(e,i-1,n),this.#t.value=t)}else this.#n=null;this.#t.addEventListener("click",()=>{this.#s.click()}),this.#e.addEventListener("toggle",this),this.#e.addEventListener("click",this),this.#e.addEventListener("change",this),this.#e.addEventListener("wheel",this),this.#o=()=>{const e=this.#t.getBoundingClientRect();this.#e.style.top=`${e.bottom+4}px`,this.#e.style.left=`${e.left}px`}}ontoggle(t){t.newState==="open"?(this.#a(),this.#o(),window.addEventListener("scroll",this.#o,!0)):window.removeEventListener("scroll",this.#o,!0)}onchange(t){}onwheel(t){this.#e.querySelector(".datepicker-grid")&&(t.preventDefault(),t.deltaY>0?this.#i.setMonth(this.#i.getMonth()+1):this.#i.setMonth(this.#i.getMonth()-1),this.#a())}onclick(t){const e=t.target.closest("button");if(e){if(e.dataset.action==="prev")this.#i.setMonth(this.#i.getMonth()-1),this.#a();else if(e.dataset.action==="next")this.#i.setMonth(this.#i.getMonth()+1),this.#a();else if(e.dataset.action==="back")this.#a();else if(e.dataset.action==="toggle-month")this.#d();else if(e.dataset.action==="toggle-year")this.#r();else if(e.dataset.month!==void 0)this.#i.setMonth(parseInt(e.dataset.month)),this.#a();else if(e.dataset.year)this.#i.setFullYear(parseInt(e.dataset.year)),this.#a();else if(e.dataset.action==="prev-decade")this.#i.setFullYear(this.#i.getFullYear()-10),this.#r();else if(e.dataset.action==="next-decade")this.#i.setFullYear(this.#i.getFullYear()+10),this.#r();else if(e.dataset.action==="today"){const i=new Date;this.#n=i,this.#i=new Date(i),this.#t.value=this.#l(i),this.emit("change",{date:i}),this.#e.hidePopover()}else if(e.dataset.action==="cancel")this.#e.hidePopover();else if(e.dataset.date){const i=e.dataset.date,[n,a,o]=i.split("-").map(Number);this.#n=new Date(n,a-1,o),this.#t.value=i,this.emit("change",{date:this.#n}),this.#e.hidePopover()}}}#a(){const t=this.#i.getFullYear(),e=this.#i.getMonth(),i=new Date,n=new Date(t,e,1).getDay(),a=new Date(t,e+1,0).getDate();let r=`
      <div class="datepicker-header">
        <button type="button" data-action="prev" aria-label="Previous month">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="m15 18-6-6 6-6"/>
          </svg>
        </button>
        <div class="datepicker-title">
          <button type="button" class="month-btn" data-action="toggle-month">${["January","February","March","April","May","June","July","August","September","October","November","December"][e]}</button>
          <button type="button" class="year-btn" data-action="toggle-year">${t}</button>
        </div>
        <button type="button" data-action="next" aria-label="Next month">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="m9 18 6-6-6-6"/>
          </svg>
        </button>
      </div>
      <div class="datepicker-grid">
        <div class="day-label">Su</div>
        <div class="day-label">Mo</div>
        <div class="day-label">Tu</div>
        <div class="day-label">We</div>
        <div class="day-label">Th</div>
        <div class="day-label">Fr</div>
        <div class="day-label">Sa</div>
    `;for(let l=0;l<n;l++)r+='<button type="button" disabled></button>';for(let l=1;l<=a;l++){const u=new Date(t,e,l),b=this.#l(u),c=u.toDateString()===i.toDateString(),h=this.#n&&b===this.#l(this.#n),d=[c&&"today",h&&"selected"].filter(Boolean).join(" ");r+=`<button type="button" data-date="${b}" class="${d}">${l}</button>`}r+=`
      </div>
      <div class="datepicker-footer">
        <button type="button" data-action="cancel" class="outline">Cancel</button>
        <button type="button" data-action="today" class="outline">Today</button>
      </div>
    `,this.#e.innerHTML=r}#d(){const t=["January","February","March","April","May","June","July","August","September","October","November","December"];let e=`
      <div class="datepicker-header">
        <button type="button" data-action="back" aria-label="Back to calendar">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="m15 18-6-6 6-6"/>
          </svg>
        </button>
        <span>Select Month</span>
        <div style="width: 2rem;"></div>
      </div>
      <div class="datepicker-month-picker">
    `;t.forEach((i,n)=>{e+=`<button type="button" data-month="${n}">${i.slice(0,3)}</button>`}),e+="</div>",this.#e.innerHTML=e}#r(){const t=this.#i.getFullYear(),e=t-50,i=t+50;let n=`
      <div class="datepicker-header">
        <button type="button" data-action="back" aria-label="Back to calendar">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="m15 18-6-6 6-6"/>
          </svg>
        </button>
        <span>Select Year</span>
        <div style="width: 2rem;"></div>
      </div>
      <div class="datepicker-year-picker">
        <div class="year-scroll" data-start="${e}" data-end="${i}">
    `;for(let o=e;o<=i;o++)n+=`<button type="button" data-year="${o}" ${o===t?'class="selected"':""}>${o}</button>`;n+="</div></div>",this.#e.innerHTML=n;const a=this.#e.querySelector(".year-scroll");a.addEventListener("scroll",()=>{const{scrollTop:o,scrollHeight:r,clientHeight:l}=a,u=parseInt(a.dataset.start),b=parseInt(a.dataset.end);if(o<100){const c=u-20;let h="";for(let d=c;d<u;d++)h+=`<button type="button" data-year="${d}" ${d===t?'class="selected"':""}>${d}</button>`;a.insertAdjacentHTML("afterbegin",h),a.dataset.start=c,a.scrollTop=o+400}if(o+l>r-100){const c=b+20;let h="";for(let d=b+1;d<=c;d++)h+=`<button type="button" data-year="${d}" ${d===t?'class="selected"':""}>${d}</button>`;a.insertAdjacentHTML("beforeend",h),a.dataset.end=c}}),setTimeout(()=>{const o=a.querySelector(".selected");o&&o.scrollIntoView({block:"center"})},0)}#l(t){const e=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return`${e}-${i}-${n}`}cleanup(){window.removeEventListener("scroll",this.#o,!0)}}customElements.define("ot-datepicker",OtDatepicker);const ot=window.ot||(window.ot={}),containers={},DEFAULT_DURATION=4e3,DEFAULT_PLACEMENT="top-right";function getContainer(s){if(!containers[s]){const t=document.createElement("div");t.className="toast-container",t.setAttribute("popover","manual"),t.setAttribute("data-placement",s),document.body.appendChild(t),containers[s]=t}return containers[s]}function show(s,t={}){const{placement:e=DEFAULT_PLACEMENT,duration:i=DEFAULT_DURATION}=t,n=getContainer(e);s.classList.add("toast");let a;return s.onmouseenter=()=>clearTimeout(a),s.onmouseleave=()=>{i>0&&(a=setTimeout(()=>removeToast(s,n),i))},s.setAttribute("data-entering",""),n.appendChild(s),n.showPopover(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{s.removeAttribute("data-entering")})}),i>0&&(a=setTimeout(()=>removeToast(s,n),i)),s}ot.toast=function(s,t,e={}){typeof s=="object"&&s!==null&&(e=s,s="");const{variant:i="",...n}=e,a=document.createElement("output");a.className="toast",a.setAttribute("role","status"),i&&a.setAttribute("data-variant",i);const o=t||i[0].toUpperCase()+i.slice(1),r=document.createElement("h6");if(r.className="toast-title",i&&(r.style.color=`var(--${i})`),r.textContent=t||o,a.appendChild(r),s){const l=document.createElement("div");l.className="toast-message",l.textContent=s,a.appendChild(l)}return show(a,n)},ot.toastEl=function(s,t={}){let e;return s instanceof HTMLTemplateElement?e=s.content.firstElementChild.cloneNode(!0):typeof s=="string"?e=document.querySelector(s).cloneNode(!0):e=s.cloneNode(!0),e.removeAttribute("id"),show(e,t)};function removeToast(s,t){if(s.hasAttribute("data-exiting"))return;s.setAttribute("data-exiting","");let e=!1;const i=()=>{e||(e=!0,s.remove(),t.children.length||t.hidePopover())};s.addEventListener("transitionend",i,{once:!0}),setTimeout(i,200)}ot.toast.clear=function(s){s&&containers[s]?(containers[s].innerHTML="",containers[s].hidePopover()):Object.values(containers).forEach(t=>{t.innerHTML="",t.hidePopover()})},document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[title]").forEach(s=>{const t=s.getAttribute("title");t&&(s.setAttribute("data-tooltip",t),s.hasAttribute("aria-label")||s.setAttribute("aria-label",t),s.removeAttribute("title"))})}),document.addEventListener("click",s=>{const t=s.target.closest("[data-sidebar-toggle]");t&&t.closest("[data-sidebar-layout]")?.toggleAttribute("data-sidebar-open")});
