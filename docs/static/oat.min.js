class OtBase extends HTMLElement{#t=!1;connectedCallback(){this.#t||(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>this.#e(),{once:!0}):this.#e())}#e(){this.#t||(this.#t=!0,this.init())}init(){}disconnectedCallback(){this.cleanup()}cleanup(){}handleEvent(t){const i=this[`on${t.type}`];i&&i.call(this,t)}emit(t,i=null){return this.dispatchEvent(new CustomEvent(t,{bubbles:!0,composed:!0,cancelable:!0,detail:i}))}getBool(t){return this.hasAttribute(t)}setBool(t,i){i?this.setAttribute(t,""):this.removeAttribute(t)}$(t){return this.querySelector(t)}$$(t){return Array.from(this.querySelectorAll(t))}uid(){return Math.random().toString(36).slice(2,10)}}typeof window<"u"&&(window.OtBase=OtBase),"commandForElement"in HTMLButtonElement.prototype||document.addEventListener("click",e=>{const t=e.target.closest("[commandfor]");if(!t)return;const i=document.getElementById(t.getAttribute("commandfor"));if(!i)return;const n=t.getAttribute("command")||"toggle";i instanceof HTMLDialogElement&&(n==="show-modal"?i.showModal():n==="close"||i.open?i.close():i.showModal())});class OtTabs extends OtBase{#t=[];#e=[];init(){const t=this.$(':scope > [role="tablist"]');if(this.#t=t?[...t.querySelectorAll('[role="tab"]')]:[],this.#e=this.$$(':scope > [role="tabpanel"]'),this.#t.length===0||this.#e.length===0){console.warn("ot-tabs: Missing tab or tabpanel elements");return}this.#t.forEach((n,o)=>{const s=this.#e[o];if(!s)return;const a=n.id||`ot-tab-${this.uid()}`,r=s.id||`ot-panel-${this.uid()}`;n.id=a,s.id=r,n.setAttribute("aria-controls",r),s.setAttribute("aria-labelledby",a),n.addEventListener("click",this),n.addEventListener("keydown",this)});const i=this.#t.findIndex(n=>n.ariaSelected==="true");this.#i(i>=0?i:0)}onclick(t){const i=this.#t.indexOf(t.target.closest('[role="tab"]'));i>=0&&this.#i(i)}onkeydown(t){const{key:i}=t,n=this.activeIndex;let o=n;switch(i){case"ArrowLeft":t.preventDefault(),o=n-1,o<0&&(o=this.#t.length-1);break;case"ArrowRight":t.preventDefault(),o=(n+1)%this.#t.length;break;default:return}this.#i(o),this.#t[o].focus()}#i(t){this.#t.forEach((i,n)=>{const o=n===t;i.ariaSelected=String(o),i.tabIndex=o?0:-1}),this.#e.forEach((i,n)=>{i.hidden=n!==t}),this.emit("ot-tab-change",{index:t,tab:this.#t[t]})}get activeIndex(){return this.#t.findIndex(t=>t.ariaSelected==="true")}set activeIndex(t){t>=0&&t<this.#t.length&&this.#i(t)}}customElements.define("ot-tabs",OtTabs);class OtDropdown extends OtBase{#t;#e;#i;init(){this.#t=this.$("menu[popover]"),this.#e=this.$("[popovertarget]"),!(!this.#t||!this.#e)&&(this.#t.addEventListener("toggle",this),this.#t.addEventListener("keydown",this),this.#i=()=>{const t=this.#e.getBoundingClientRect();this.#t.style.top=`${t.bottom}px`,this.#t.style.left=`${t.left}px`})}ontoggle(t){t.newState==="open"?(this.#i(),window.addEventListener("scroll",this.#i,!0),this.$('[role="menuitem"]')?.focus(),this.#e.ariaExpanded="true"):(window.removeEventListener("scroll",this.#i,!0),this.#e.ariaExpanded="false",this.#e.focus())}onkeydown(t){if(!t.target.matches('[role="menuitem"]'))return;const i=this.$$('[role="menuitem"]'),n=i.indexOf(t.target);switch(t.key){case"ArrowDown":t.preventDefault(),i[(n+1)%i.length]?.focus();break;case"ArrowUp":t.preventDefault(),i[n-1<0?i.length-1:n-1]?.focus();break}}cleanup(){window.removeEventListener("scroll",this.#i,!0)}}customElements.define("ot-dropdown",OtDropdown);class OtPopover extends OtBase{#t;#e;#i;init(){this.#t=this.$("[popover]"),this.#e=this.$("[popovertarget]"),!(!this.#t||!this.#e)&&(this.#t.addEventListener("toggle",this),this.#i=()=>{const t=this.#e.getBoundingClientRect();this.#t.style.top=`${t.bottom}px`,this.#t.style.left=`${t.left}px`})}ontoggle(t){t.newState==="open"?(this.#i(),window.addEventListener("scroll",this.#i,!0),this.#e.ariaExpanded="true"):(window.removeEventListener("scroll",this.#i,!0),this.#e.ariaExpanded="false",this.#e.focus())}cleanup(){window.removeEventListener("scroll",this.#i,!0)}}customElements.define("ot-popover",OtPopover);const ot=window.ot||(window.ot={}),containers={},DEFAULT_DURATION=4e3,DEFAULT_PLACEMENT="top-right";function getContainer(e){if(!containers[e]){const t=document.createElement("div");t.className="toast-container",t.setAttribute("popover","manual"),t.setAttribute("data-placement",e),document.body.appendChild(t),containers[e]=t}return containers[e]}function show(e,t={}){const{placement:i=DEFAULT_PLACEMENT,duration:n=DEFAULT_DURATION}=t,o=getContainer(i);e.classList.add("toast");let s;return e.onmouseenter=()=>clearTimeout(s),e.onmouseleave=()=>{n>0&&(s=setTimeout(()=>removeToast(e,o),n))},e.setAttribute("data-entering",""),o.appendChild(e),o.showPopover(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.removeAttribute("data-entering")})}),n>0&&(s=setTimeout(()=>removeToast(e,o),n)),e}ot.toast=function(e,t,i={}){typeof e=="object"&&e!==null&&(i=e,e="");const{variant:n="",...o}=i,s=document.createElement("output");s.className="toast",s.setAttribute("role","status"),n&&s.setAttribute("data-variant",n);const a=t||n[0].toUpperCase()+n.slice(1),r=document.createElement("h6");if(r.className="toast-title",n&&(r.style.color=`var(--${n})`),r.textContent=t||a,s.appendChild(r),e){const l=document.createElement("div");l.className="toast-message",l.textContent=e,s.appendChild(l)}return show(s,o)},ot.toastEl=function(e,t={}){let i;return e instanceof HTMLTemplateElement?i=e.content.firstElementChild.cloneNode(!0):typeof e=="string"?i=document.querySelector(e).cloneNode(!0):i=e.cloneNode(!0),i.removeAttribute("id"),show(i,t)};function removeToast(e,t){if(e.hasAttribute("data-exiting"))return;e.setAttribute("data-exiting","");let i=!1;const n=()=>{i||(i=!0,e.remove(),t.children.length||t.hidePopover())};e.addEventListener("transitionend",n,{once:!0}),setTimeout(n,200)}ot.toast.clear=function(e){e&&containers[e]?(containers[e].innerHTML="",containers[e].hidePopover()):Object.values(containers).forEach(t=>{t.innerHTML="",t.hidePopover()})},document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[title]").forEach(e=>{const t=e.getAttribute("title");t&&(e.setAttribute("data-tooltip",t),e.hasAttribute("aria-label")||e.setAttribute("aria-label",t),e.removeAttribute("title"))})}),document.addEventListener("click",e=>{const t=e.target.closest("[data-sidebar-toggle]");t&&t.closest("[data-sidebar-layout]")?.toggleAttribute("data-sidebar-open")});
