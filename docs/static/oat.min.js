class OtBase extends HTMLElement{#t=!1;connectedCallback(){this.#t||(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>this.#e(),{once:!0}):this.#e())}#e(){this.#t||(this.#t=!0,this.init())}init(){}disconnectedCallback(){this.cleanup()}cleanup(){}handleEvent(t){const e=this[`on${t.type}`];e&&e.call(this,t)}emit(t,e=null){return this.dispatchEvent(new CustomEvent(t,{bubbles:!0,composed:!0,cancelable:!0,detail:e}))}getBool(t){return this.hasAttribute(t)}setBool(t,e){e?this.setAttribute(t,""):this.removeAttribute(t)}$(t){return this.querySelector(t)}$$(t){return Array.from(this.querySelectorAll(t))}uid(){return Math.random().toString(36).slice(2,10)}}typeof window<"u"&&(window.OtBase=OtBase),"commandForElement"in HTMLButtonElement.prototype||document.addEventListener("click",i=>{const t=i.target.closest("[commandfor]");if(!t)return;const e=document.getElementById(t.getAttribute("commandfor"));if(!e)return;const n=t.getAttribute("command")||"toggle";e instanceof HTMLDialogElement&&(n==="show-modal"?e.showModal():n==="close"||e.open?e.close():e.showModal())});class OtTabs extends OtBase{#t=[];#e=[];init(){const t=this.$(':scope > [role="tablist"]');if(this.#t=t?[...t.querySelectorAll('[role="tab"]')]:[],this.#e=this.$$(':scope > [role="tabpanel"]'),this.#t.length===0||this.#e.length===0){console.warn("ot-tabs: Missing tab or tabpanel elements");return}this.#t.forEach((n,s)=>{const o=this.#e[s];if(!o)return;const r=n.id||`ot-tab-${this.uid()}`,a=o.id||`ot-panel-${this.uid()}`;n.id=r,o.id=a,n.setAttribute("aria-controls",a),o.setAttribute("aria-labelledby",r),n.addEventListener("click",this),n.addEventListener("keydown",this)});const e=this.#t.findIndex(n=>n.ariaSelected==="true");this.#i(e>=0?e:0)}onclick(t){const e=this.#t.indexOf(t.target.closest('[role="tab"]'));e>=0&&this.#i(e)}onkeydown(t){const{key:e}=t,n=this.activeIndex;let s=n;switch(e){case"ArrowLeft":t.preventDefault(),s=n-1,s<0&&(s=this.#t.length-1);break;case"ArrowRight":t.preventDefault(),s=(n+1)%this.#t.length;break;default:return}this.#i(s),this.#t[s].focus()}#i(t){this.#t.forEach((e,n)=>{const s=n===t;e.ariaSelected=String(s),e.tabIndex=s?0:-1}),this.#e.forEach((e,n)=>{e.hidden=n!==t}),this.emit("ot-tab-change",{index:t,tab:this.#t[t]})}get activeIndex(){return this.#t.findIndex(t=>t.ariaSelected==="true")}set activeIndex(t){t>=0&&t<this.#t.length&&this.#i(t)}}customElements.define("ot-tabs",OtTabs);class OtDropdown extends OtBase{#t;#e;#i;init(){this.#t=this.$("[popover]"),this.#e=this.$("[popovertarget]"),!(!this.#t||!this.#e)&&(this.#t.addEventListener("toggle",this),this.#t.addEventListener("keydown",this),this.#i=()=>{const t=this.#e.getBoundingClientRect();this.#t.style.top=`${t.bottom}px`,this.#t.style.left=`${t.left}px`})}ontoggle(t){t.newState==="open"?(this.#i(),window.addEventListener("scroll",this.#i,!0),this.$('[role="menuitem"]')?.focus(),this.#e.ariaExpanded="true"):(window.removeEventListener("scroll",this.#i,!0),this.#e.ariaExpanded="false",this.#e.focus())}onkeydown(t){if(!t.target.matches('[role="menuitem"]'))return;const e=this.$$('[role="menuitem"]'),n=e.indexOf(t.target);switch(t.key){case"ArrowDown":t.preventDefault(),e[(n+1)%e.length]?.focus();break;case"ArrowUp":t.preventDefault(),e[n-1<0?e.length-1:n-1]?.focus();break}}cleanup(){window.removeEventListener("scroll",this.#i,!0)}}customElements.define("ot-dropdown",OtDropdown);class OtChipInput extends OtBase{#t;#e;#i=[];init(){if(this.#t=this.$(".chip-input"),this.#e=this.$("input"),!this.#t||!this.#e)return;this.#e.addEventListener("keydown",this),this.#t.addEventListener("click",this);const t=this.getAttribute("data-chips");t&&t.split(",").forEach(e=>this.#n(e.trim()))}onkeydown(t){if(t.target!==this.#e)return;const e=this.#e.value.trim();t.key==="Enter"&&e?(t.preventDefault(),this.#n(e),this.#e.value=""):t.key==="Backspace"&&!this.#e.value&&this.#i.length&&this.#s(this.#i.length-1)}onclick(t){const e=t.target.closest(".chip button");if(!e)return;t.preventDefault(),t.stopPropagation();const n=[...this.#t.querySelectorAll(".chip")].indexOf(e.closest(".chip"));n>=0&&this.#s(n)}#n(t){if(!t||this.#i.includes(t))return;this.#i.push(t);const e=document.createElement("span");e.className="chip",e.innerHTML=`${t}<button type="button" aria-label="Remove">\xD7</button>`,this.#t.insertBefore(e,this.#e),this.emit("change",{chips:this.#i})}#s(t){this.#i.splice(t,1),this.#t.querySelectorAll(".chip")[t]?.remove(),this.emit("change",{chips:this.#i})}get value(){return this.#i}set value(t){this.#t.querySelectorAll(".chip").forEach(e=>e.remove()),this.#i=[],t.forEach(e=>this.#n(e))}}customElements.define("ot-chip-input",OtChipInput);const ot=window.ot||(window.ot={}),containers={},DEFAULT_DURATION=4e3,DEFAULT_PLACEMENT="top-right";function getContainer(i){if(!containers[i]){const t=document.createElement("div");t.className="toast-container",t.setAttribute("popover","manual"),t.setAttribute("data-placement",i),document.body.appendChild(t),containers[i]=t}return containers[i]}function show(i,t={}){const{placement:e=DEFAULT_PLACEMENT,duration:n=DEFAULT_DURATION}=t,s=getContainer(e);i.classList.add("toast");let o;return i.onmouseenter=()=>clearTimeout(o),i.onmouseleave=()=>{n>0&&(o=setTimeout(()=>removeToast(i,s),n))},i.setAttribute("data-entering",""),s.appendChild(i),s.showPopover(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{i.removeAttribute("data-entering")})}),n>0&&(o=setTimeout(()=>removeToast(i,s),n)),i}ot.toast=function(i,t,e={}){const{variant:n="info",...s}=e,o=document.createElement("output");if(o.setAttribute("data-variant",n),t){const r=document.createElement("h6");r.className="toast-title",r.style.color=`var(--${n})`,r.textContent=t,o.appendChild(r)}if(i){const r=document.createElement("div");r.className="toast-message",r.textContent=i,o.appendChild(r)}return show(o,s)},ot.toastEl=function(i,t={}){let e;return i instanceof HTMLTemplateElement?e=i.content.firstElementChild.cloneNode(!0):typeof i=="string"?e=document.querySelector(i).cloneNode(!0):e=i.cloneNode(!0),e.removeAttribute("id"),show(e,t)};function removeToast(i,t){if(i.hasAttribute("data-exiting"))return;i.setAttribute("data-exiting","");const e=()=>{i.remove(),t.children.length||t.hidePopover()};i.addEventListener("transitionend",e,{once:!0}),setTimeout(e,200)}ot.toast.clear=function(i){i&&containers[i]?(containers[i].innerHTML="",containers[i].hidePopover()):Object.values(containers).forEach(t=>{t.innerHTML="",t.hidePopover()})},document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[title]").forEach(i=>{const t=i.getAttribute("title");t&&(i.setAttribute("data-tooltip",t),i.hasAttribute("aria-label")||i.setAttribute("aria-label",t),i.removeAttribute("title"))})}),document.addEventListener("click",i=>{const t=i.target.closest("[data-sidebar-toggle]");t&&t.closest("[data-sidebar-layout]")?.toggleAttribute("data-sidebar-open")});
