<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playground - {{ config.title }}</title>
    <link rel="stylesheet" href="/oat.min.css">
    <script>
        (function() {
            var t = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
            document.documentElement.setAttribute('data-theme', t);
        })();
    </script>
    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        header {
            border-bottom: 1px solid var(--border);
            padding: var(--space-2) var(--space-4);
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 50px;
        }

        .split-view {
            display: flex;
            flex: 1;
            height: calc(100vh - 50px);
        }

        .editor-pane, .preview-pane {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .editor-pane {
            border-right: 1px solid var(--border);
        }

        textarea#editor {
            flex: 1;
            width: 100%;
            border: none;
            padding: var(--space-4);
            font-family: monospace;
            font-size: 14px;
            line-height: 1.5;
            resize: none;
            outline: none;
            background: var(--background);
            color: var(--foreground);
        }

        .pane-header {
            padding: var(--space-2) var(--space-4);
            background: var(--muted);
            border-bottom: 1px solid var(--border);
            font-size: var(--text-7);
            font-weight: bold;
            color: var(--muted-foreground);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #preview-container {
            padding: var(--space-4);
            overflow: auto;
            flex: 1;
        }
        
        @media (max-width: 768px) {
            .split-view {
                flex-direction: column;
            }
            .editor-pane {
                border-right: none;
                border-bottom: 1px solid var(--border);
                height: 50%;
            }
        }

        /* Swap theme icons */
        html[data-theme="dark"] .icon-dark {
            display: none;
        }
        html:not([data-theme="dark"]) .icon-light {
            display: display; /* Default is block/inline usually, but 'none' hides it. Let's use 'none' for the opposite. */
            display: none;
        }
        /* Actually, let's copy the logic from base.html exactly but correct the second rule logic */
        html[data-theme="dark"] .icon-dark {
            display: none;
        }
        html:not([data-theme="dark"]) .icon-light {
            display: none;
        }

        html[data-theme="dark"] .icon-dark { display: none !important; }
        html[data-theme="dark"] .icon-light { display: inline-block !important; }
        
        html:not([data-theme="dark"]) .icon-light { display: none !important; }
        html:not([data-theme="dark"]) .icon-dark { display: inline-block !important; }
    </style>
</head>
<body>

<header>
    <div style="display: flex; align-items: center; gap: var(--space-2);">
        <a href="/" style="display: flex; align-items: center;">
            <img src="/logo.svg" alt="Oat" style="height: 24px;">
        </a>
        <span style="color: var(--muted-foreground);">/</span>
        <strong>Playground</strong>
    </div>
    <div>
        <button class="small outline" onclick="toggleTheme()" style="margin-right: var(--space-2);">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-light">
                <circle cx="12" cy="12" r="5"/>
                <line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                <line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
            </svg>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-dark" style="display: none;">
                <path d="M21 12.79A9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
            </svg>
            Theme
        </button>
        <a href="/" class="button small outline">Back to Docs</a>
    </div>
</header>

<div class="split-view">
    <div class="editor-pane">
        <div class="pane-header">
            <span>HTML Code</span>
            <div class="pane-actions">
                <button class="small outline" id="copy-btn">Copy</button>
                <button class="small outline" id="reset-btn">Reset</button>
            </div>
        </div>
        <textarea id="editor" spellcheck="false" placeholder="Enter your HTML here..."></textarea>
    </div>
    <div class="preview-pane">
        <div class="pane-header">Preview</div>
        <div id="preview-container"></div>
    </div>
</div>

<script src="/main.js"></script>

</body>
</html>
